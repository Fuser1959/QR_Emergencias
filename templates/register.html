<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Crear cuenta</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu; max-width: 480px; margin: 40px auto; padding: 0 16px; }
    h1 { font-size: 1.4rem; margin-bottom: 12px; }
    .flash { padding: 10px 12px; border-radius: 8px; margin: 10px 0; border: 1px solid #e0a0a0; background: #ffe9e9; color: #7a1e1e; }
    form { display: grid; gap: 10px; }
    input { padding: 10px; border-radius: 8px; border: 1px solid #ccc; width: 100%; }
    button { padding: 10px 14px; border-radius: 8px; border: 1px solid #ccc; cursor: pointer; }
    .muted { color: #666; font-size: .9rem; margin-top: 6px; }
    a { color: #0b69ff; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>

  <h1>Crear cuenta</h1>

  {% if error %}
    <div class="flash">{{ error }}</div>
  {% endif %}

  <form method="post" action="/register" autocomplete="on">
    <input type="text"     name="nombre"   placeholder="Nombre"   required value="{{ request.form.get('nombre','') }}">
    <input type="text"     name="apellido" placeholder="Apellido" required value="{{ request.form.get('apellido','') }}">
    <input type="email"    name="email"    placeholder="Email"    required value="{{ request.form.get('email','') }}">
    <input type="password" name="password" placeholder="Contraseña" required>

    <!-- Para volver a /claim/<code> o ir a /panel tras registrarte -->
    <input type="hidden" name="next" value="{{ next }}">

    <button type="submit">Crear cuenta</button>
  </form>

  <p class="muted">
    ¿Ya tenés cuenta? <a href="/login?next={{ next|urlencode }}">Iniciar sesión</a>
  </p>

</body>
</html>
