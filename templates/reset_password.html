<!doctype html>
<html lang="es">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Blanquear contraseña</title>
<style>
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;background:#f6f7fb;margin:0}
  .wrap{min-height:100vh;display:grid;place-items:center}
  .card{background:#fff;max-width:520px;width:100%;padding:24px;border-radius:14px;box-shadow:0 10px 40px rgba(0,0,0,.07)}
  .err{background:#fee2e2;color:#991b1b;border:1px solid #fecaca;padding:10px;border-radius:10px;margin-bottom:10px}
  input{width:100%;padding:12px 14px;border:1px solid #e5e7eb;border-radius:10px;margin-bottom:10px}
  .btn{background:#2563eb;color:#fff;border:none;border-radius:10px;padding:12px 16px;font-weight:600;cursor:pointer}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h2>Blanquear contraseña</h2>
    {% if invalid %}
      <div class="err">El enlace es inválido o expiró. Volvé a solicitarlo.</div>
      <p><a href="{{ url_for('forgot') }}">Volver a pedir enlace</a></p>
    {% else %}
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for cat, m in messages %}
            <div class="{{ 'err' if cat=='error' else '' }}">{{ m }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      <form method="post">
        <input type="password" name="password" placeholder="Nueva contraseña" required>
        <input type="password" name="password2" placeholder="Repetir contraseña" required>
        <button class="btn" type="submit">Guardar</button>
      </form>
    {% endif %}
  </div>
</div>
</body>
</html>
